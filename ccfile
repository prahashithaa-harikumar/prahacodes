import React from 'react';
import { FormControl, FormLabel, Input, FormErrorMessage, Box, Text } from '@chakra-ui/react';

const FileUpload = ({ formData, handleInputChange, errors }) => {
  const handleFileChange = (e) => {
    const { name, files } = e.target;
    if (files.length > 0) {
      // Assuming a single file is uploaded for each input
      handleInputChange({
        target: {
          name,
          value: files[0]
        }
      });
    }
  };

  return (
    <Box>
      <FormControl isInvalid={!!errors.idProofFile} mb={4}>
        <FormLabel>ID Proof</FormLabel>
        <Input
          type="file"
          name="idProofFile"
          onChange={handleFileChange}
          accept=".jpg, .jpeg, .png, .pdf"
        />
        <FormErrorMessage>{errors.idProofFile}</FormErrorMessage>
      </FormControl>

      <FormControl isInvalid={!!errors.aadharFile} mb={4}>
        <FormLabel>Aadhar Card</FormLabel>
        <Input
          type="file"
          name="aadharFile"
          onChange={handleFileChange}
          accept=".jpg, .jpeg, .png, .pdf"
        />
        <FormErrorMessage>{errors.aadharFile}</FormErrorMessage>
      </FormControl>

      <FormControl isInvalid={!!errors.panCardFile} mb={4}>
        <FormLabel>PAN Card</FormLabel>
        <Input
          type="file"
          name="panCardFile"
          onChange={handleFileChange}
          accept=".jpg, .jpeg, .png, .pdf"
        />
        <FormErrorMessage>{errors.panCardFile}</FormErrorMessage>
      </FormControl>

      {/* Display file names if needed */}
      <Box mt={4}>
        <Text><strong>Uploaded ID Proof:</strong> {formData.idProofFile ? formData.idProofFile.name : 'None'}</Text>
        <Text><strong>Uploaded Aadhar Card:</strong> {formData.aadharFile ? formData.aadharFile.name : 'None'}</Text>
        <Text><strong>Uploaded PAN Card:</strong> {formData.panCardFile ? formData.panCardFile.name : 'None'}</Text>
      </Box>
    </Box>
  );
};

export default FileUpload;